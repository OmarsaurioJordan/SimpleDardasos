<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>grupo</parentName>
  <maskName>base1</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>habla=-1;
if(condicionador.vidas=-100){
    instance_create(x,y,ganando);
    instance_destroy();}
else{
    instance_create(x,y,camara);
    view_object[0]=camara;
    playervoz(5,id);
    condicionador.num_guardianes+=1;}
reloj1=0;
paso=1;
vida=10;
reloj2=-1;
tiro=-1;
arma=-1;//-1:nada,0:espada,1:flecha,2:bala,3:perdigon,4:disco,5:avion,6:bomba
municion=0;
otrocoso=0;
blanco=-1;
telefono=0;//llamar aliados paracaidas
if(control.fecha=2 or control.fecha=4){
    denso=1;}//colision con fantasmas
else{
    denso=0;}//colision con vivos
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>view_object[0]=noone;
condicionador.num_guardianes-=1;
lider=0;
with(camara){
    instance_destroy();}
if(instance_exists(blanco)){
    blanco.enfocado=0;}
with(capturado){
    reloj2=0;}
if(condicionador.vidas!=-100){
    if(condicionador.vidas&gt;0){
        condicionador.vidas-=1;
        if(condicionador.vidas=0){
            if(control.num=0){
                if(condicionador.puntos&gt;condicionador.record){
                    playervoz(6,id);
                    ini_open("config_omwa.ini");
                    ini_write_string("config","puntos",string(condicionador.puntos));
                    ini_close();}
                else{
                    playervoz(7,id);}
                if(condicionador.puntos&gt;real(control.trofeos[9])){
                    control.servidor=condicionador.puntos;}}
            else{
                playervoz(7,id);}
            with(ayudante){
                transformacion=1;
                otrocoso=instance_create(x,y,guardian);
                otrocoso.vida=vida;
                otrocoso.arma=arma;
                otrocoso.municion=municion;
                eventocambiarma(otrocoso);
                guardianvoz(1,otrocoso);
                instance_destroy();}}}
    instance_create(x,y,espectro);
    instance_create(x,y,fosil);}
else{
    playervoz(6,id);}
condicionador.reloj5=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(reloj1&lt;0.8){//velocidad animacion principal
    reloj1+=delta_time*0.00001;}
else{
    reloj1=0;
    otrocoso=instance_nearest(x,y,guardian);
    if(otrocoso&gt;0){
        if(point_distance(x,y,otrocoso.x,otrocoso.y)&lt;mele*4){
            otrocoso.cercano1=1;}}
    if(condicionador.haycheckpoint=1){
        otrocoso=instance_nearest(x,y,checkpoint);
        if(point_distance(x,y,otrocoso.x,otrocoso.y)&lt;mele){
            if(otrocoso.activo=0){
                with(checkpoint){
                    activo=0;}
                otrocoso.activo=1;
                audio_play_sound(s_checkpointsound,5,0);
                condicionador.inicialx=otrocoso.x;
                condicionador.inicialy=otrocoso.y;}}}
    if(telefono=0 and instance_exists(basecontrol)){
        otrocoso=instance_nearest(x,y,basecontrol);
        if(otrocoso.activo=1 and point_distance(x,y,otrocoso.x,otrocoso.y)&lt;mele*3){
        with(otrocoso){
            if(!collision_line(x,y,player.x,player.y,bloque,altocol,1)){
                activo=0;
                player.telefono=1;
                audio_play_sound(s_obtenido,7,0);}}}}
    if(paso=4){
        paso=1;}
    else{
        paso+=1;}}
otrocoso=instance_place(x,y,proyectil2);//recive disparo
if(otrocoso&gt;0){
    switch(otrocoso.tipo){
        case 0: vida-=gespada; break;//espada
        case 1: vida-=gflecha; break;//flecha
        case 2: vida-=gbalinperdigon; break;//balin
        case 3: vida-=gbalinperdigon; break;//perdigon
        case 4: vida-=gdisco-otrocoso.rebote*0.2; break;//disco
        case 5: vida-=gavion; break;//perseguidor
        case 6: explota(otrocoso,0); break;//bomba
        case 7: vida-=gesquirla; break;}//esquirla
    playervoz(0,id);
    if(vida&lt;=0){
        if((arma&gt;0 and municion&gt;0)or arma=0){
            otrocoso=instance_create(x,y,objeto);
            otrocoso.tipo=arma;
            otrocoso.municion=municion;}
        with(otrocoso){
            instance_destroy();}
        instance_destroy();
        exit;}
    else{
        if(arma&gt;0){
            instance_create(x+lengthdir_x(radiobjeto,otrocoso.direction+180),y+lengthdir_y(radiobjeto,otrocoso.direction+180),impactus);}
        with(otrocoso){
        instance_destroy();}}}
otrocoso=instance_place(x,y,bloque);//colision con bloques
if(otrocoso&gt;0){
    x+=lengthdir_x(velocidad*delta_time*0.00001,point_direction(otrocoso.x,otrocoso.y,x,y));
    y+=lengthdir_y(velocidad*delta_time*0.00001,point_direction(otrocoso.x,otrocoso.y,x,y));}
else{
    otrocoso=instance_place(x,y,movil);//colision con unidades
    if(otrocoso&lt;0 and denso=1){
        otrocoso=instance_place(x,y,astral);}//colision con fantasmas
    if(otrocoso&gt;0){
        x+=lengthdir_x(velocidad*delta_time*0.00001,point_direction(otrocoso.x,otrocoso.y,x,y));
        y+=lengthdir_y(velocidad*delta_time*0.00001,point_direction(otrocoso.x,otrocoso.y,x,y));}
    else{
        otrocoso=1;
        if(arma&gt;0){
            otrocoso=0.9;}
        if(keyboard_check(ord('A'))){//controles movimiento
            if(keyboard_check(ord('S'))){
                direction=225;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}
            else if(keyboard_check(ord('W'))){
                direction=135;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}
            else{
                direction=180;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}}
        else if(keyboard_check(ord('D'))){
            if(keyboard_check(ord('S'))){
                direction=315;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}
            else if(keyboard_check(ord('W'))){
                direction=45;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}
            else{
                direction=0;
                x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
                y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}}
        else if(keyboard_check(ord('W'))){
            direction=90;
            x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
            y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}
        else if(keyboard_check(ord('S'))){
            direction=270;
            x+=lengthdir_x((velocidad*otrocoso)*delta_time*0.00001,direction);
            y+=lengthdir_y((velocidad*otrocoso)*delta_time*0.00001,direction);}}}
if(vida&lt;10){//recoge vida
    otrocoso=instance_nearest(x,y,viducha);
    if(otrocoso&gt;0){
        if(point_distance(otrocoso.x,otrocoso.y,x,y)&lt;28){
            playervoz(8,id);
            if(otrocoso.tipo=0){
                vida+=3.5;
                if(vida&gt;10){vida=10;}}
            else{
                vida=10;}
            with(otrocoso){instance_destroy();}}}}
if(manejo=1){//buscar automaticamente blanco
    if(blanco&gt;0 and instance_exists(blanco)){
        if(point_distance(view_xview[0]+552,view_yview[0]+432,blanco.x,blanco.y)&gt;visualizacion){
            blanco.enfocado=0; blanco=-1;}}
    else{
        blanco=-1;
        ojeandolos(enemigo,id,-1);}}
if(x&lt;20){//limites del mundo
    x=20;}
else if(x&gt;room_width-20){
    x=room_width-20;}
if(y&gt;room_height-20){
    y=room_height-20;}
else if(y&lt;120){
    y=120;}
if(reloj2!=-1){//proceso disparar
    if(reloj2&lt;lanzamiento){
        reloj2+=delta_time*0.00001;
        if(reloj2&gt;lanzamiento*0.3){
            if(tiro=-1){
                if(arma=0){
                    otrocoso=collision_circle(x,y,mele*1.5,proyectil2,altocol,1);
                    if(otrocoso&gt;0){
                        switch(otrocoso.tipo){
                            case 1: case 2: case 3: case 4:
                                otrocoso.direction=point_direction(x,y,otrocoso.x,otrocoso.y);
                                audio_play_sound_at(s_impac_espada,x,y,0,visualizacion*0.1,visualizacion*1.5,1,0,1); break;
                            case 5:
                                audio_play_sound_at(s_impac_espada,x,y,0,visualizacion*0.1,visualizacion*1.5,1,0,1);
                                with(otrocoso){instance_destroy();} break;
                            case 6:
                                explota(otrocoso,1); break;}}}
                if(manejo=0){
                    if(arma=0 and instance_exists(enemigo)){
                        otrocoso=instance_nearest(x,y,enemigo);
                        disparo(point_direction(x,y,otrocoso.x,otrocoso.y),id);}
                    else{
                        disparo(point_direction(x,y,raton.x,raton.y),id);}
                    tiro=2;}
                else if(blanco&gt;0 and instance_exists(blanco)){
                    disparo(point_direction(x,y,blanco.x,blanco.y),id);
                    tiro=2;}
                else{
                    blanco=-1;
                    tiro=1;}
                if(arma=0){audio_play_sound_at(s_disp_espada,x,y,0,visualizacion*0.1,visualizacion*1.5,1,0,3);}}}}
    else{
        if(tiro=2 and arma&gt;0){
            municion-=1;}
        if(arma&gt;0 and municion=0){
            arma=-1;}
        tiro=-1;
        reloj2=-1;}}
if(keyboard_check_pressed(ord('Q'))){//botar objeto
    if(reloj2=-1 and arma&gt;-1){
        tiro=instance_create(x,y,objeto);
        tiro.tipo=arma;
        tiro.municion=municion;
        suma_municion(tiro);
        tiro=-1;
        arma=-1;
        municion=0;}}
if(keyboard_check_pressed(ord('E'))){//recoger o cambiar objeto
    tiro=-1;
    reloj2=-1;
    otrocoso=collision_circle(x,y,radiobjeto*2,objeto,altocol,1);
    if(otrocoso&gt;0){
        if(arma&gt;-1){
            if(arma&gt;0 and arma=otrocoso.tipo and municion&lt;99){
                if(municion+otrocoso.municion&lt;100){
                    municion+=otrocoso.municion;
                    with(otrocoso){instance_destroy();}}
                else{
                    otrocoso.municion+=municion-99;
                    municion=99;}}
            else{
                tiro=instance_create(x,y,objeto);
                tiro.tipo=arma;
                tiro.municion=municion;
                arma=otrocoso.tipo;
                municion=otrocoso.municion;
                with(otrocoso){instance_destroy();}
                suma_municion(tiro);}}
        else{
            arma=otrocoso.tipo;
            municion=otrocoso.municion;
            with(otrocoso){instance_destroy();}}
        audio_play_sound(s_recarga,5,0);
        tiro=0;}
    if(tiro=-1){
        otrocoso=collision_circle(x,y,mele,ayudante,altocol,1);
        if(otrocoso&gt;0){
            otrocoso.reloj2=-1;
            otrocoso.tiro=-1;
            if(arma&gt;0 and otrocoso.arma=arma and municion&lt;99){
                if(municion+otrocoso.municion&lt;100){
                    municion+=otrocoso.municion;
                    otrocoso.arma=-1;
                    otrocoso.municion=0;
                    guardianvoz(2,otrocoso);}
                else{
                    otrocoso.municion=municion+otrocoso.municion-99;
                    municion=99;
                    audio_play_sound(s_recarga,5,0);}}
            else{
                tiro=arma;
                aux=municion;
                arma=otrocoso.arma;
                municion=otrocoso.municion;
                otrocoso.arma=tiro;
                otrocoso.municion=aux;
                if(arma&gt;-1 and tiro=-1){guardianvoz(2,otrocoso);}
                else if(arma=-1 and tiro&gt;-1){guardianvoz(3,otrocoso);}
                else{audio_play_sound(s_recarga,5,0);}}
            tiro=-1;}
        else{
            otrocoso=collision_circle(x,y,mele,guardian,altocol,1);
            if(otrocoso&gt;0){
                otrocoso.reloj2=-1;
                otrocoso.tiro=-1;
                if(arma&gt;0 and otrocoso.arma=arma and municion&lt;99){
                    if(municion+otrocoso.municion&lt;100){
                        municion+=otrocoso.municion;
                        otrocoso.arma=-1;
                        otrocoso.municion=0;
                        guardianvoz(2,otrocoso);}
                    else{
                        otrocoso.municion=municion+otrocoso.municion-99
                        municion=99;
                        audio_play_sound(s_recarga,5,0);}}
                else{
                    if(otrocoso.arma=-1 and municion&gt;=32){
                        otrocoso.arma=arma;
                        otrocoso.municion=16;
                        municion-=16;
                        guardianvoz(3,otrocoso);}
                    else{
                        tiro=arma;
                        aux=municion;
                        arma=otrocoso.arma;
                        municion=otrocoso.municion;
                        otrocoso.arma=tiro;
                        otrocoso.municion=aux;
                        if(arma&gt;-1 and tiro=-1){guardianvoz(2,otrocoso);}
                        else if(arma=-1 and tiro&gt;-1){guardianvoz(3,otrocoso);}
                        else{audio_play_sound(s_recarga,5,0);}}}
                eventocambiarma(otrocoso);
                tiro=-1;}}}
    else{
        tiro=-1;}}
if(manejo=0){
    if(mouse_check_button(mb_left)){//activar el disparo
        if(reloj2=-1 and arma&gt;-1){
            reloj2=0;}}}
else if(keyboard_check_pressed(vk_space)){//cambiar objetivo
    ojeandolos(enemigo,id,blanco);}
else if(keyboard_check(ord('N'))or keyboard_check(ord('M'))){//activar el disparo
    if(reloj2=-1 and arma&gt;-1 and blanco&gt;0){
        reloj2=0;}}
if(keyboard_check_pressed(ord('T'))and instance_exists(baseazul)){//crear/borrar un punto guia
    with(carroazul){
        instance_destroy();}
    with(ambulanciazul){
        instance_destroy();}
    if(instance_exists(puntoazul)){
        if(point_distance(x,y,puntoazul.x,puntoazul.y)&lt;mele*2){
            playervoz(4,id);
            with(puntoazul){
                instance_destroy();}
            with(baseazul){
                path_clear_points(camino);
                path_clear_points(regreso);}}
        else{
            playervoz(3,id);
            with(puntoazul){
                instance_destroy();}
            instance_create(x,y,puntoazul);}}
    else{
        playervoz(3,id);
        instance_create(x,y,puntoazul);}}
if(keyboard_check_pressed(ord('R'))and telefono=1){//llamar aliados
    if(instance_exists(telefonica)){
        with(telefonica){
            reloj=0;
            if(disponibles&gt;0){
                player.telefono=0;
                playervoz(1,player);
                for(i=0;i&lt;disponibles;i+=1){
                    do{
                        x=player.x-visualizacion*0.3+irandom(visualizacion*0.6);
                        y=player.y-visualizacion*0.3+irandom(visualizacion*0.6);}
                    until(point_distance(x,y,player.x,player.y)&lt;visualizacion*0.3 and !collision_circle(x,y,radiobjeto,bloque,altocol,1)
                    and !collision_line(x,y,player.x,player.y,bloque,altocol,1));
                    aux=instance_create(x,y,relanzado);
                    aux.arma=arma[i];
                    aux.municion=municion[i];}}
            instance_destroy();}}
    else{
        instance_create(x,y,telefonica);}}
if(keyboard_check_released(ord('0'))){//cambiar modo manejo
    ini_open("config_omwa.ini");
    if(manejo=1){
        manejo=0;
        ini_write_string("config","manejo","0");
        if(blanco&gt;0 and instance_exists(blanco)){
            blanco.enfocado=0;}
        blanco=-1;}
    else{
        manejo=1;
        ini_write_string("config","manejo","1");}
    ini_close();}
if(keyboard_check_released(vk_delete) and !instance_exists(ayudante) and control.num&gt;0){//contratar guardian
    if(instance_exists(guardian)){
        otrocoso=instance_nearest(x,y,guardian);
        if(point_distance(x,y,otrocoso.x,otrocoso.y)&lt;visualizacion){
            otrocoso.transformacion=1;
            aux=instance_create(otrocoso.x,otrocoso.y,ayudante);
            aux.vida=otrocoso.vida;
            aux.arma=otrocoso.arma;
            aux.municion=otrocoso.municion;
            with(otrocoso){instance_destroy();}}}}
if(keyboard_check_released(ord('F'))){//activar que lo sigan los aliados desocupados
    if(lider=0){
        lider=1;}
    else{
        lider=0;}}
depth=y*-10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite(d_sombra,0,x,y);
if(tre_d=1){
    draw_sprite(d_personaje,2+floor(paso/3),x,y);}
else{
    draw_sprite(d_aurisima,paso-1,x,y-120);}
if(xprevious=x and yprevious=y){
    draw_sprite(d_patas,0,x,y);}
else{
    draw_sprite(d_patas,paso,x,y);}
draw_sprite(d_personaje,floor(paso/3),x,y);
if(arma=-1){
    draw_sprite(d_brazos,0,x,y);}
else{
    if(municion&gt;1){
        draw_sprite(d_municion,arma,x,y);}
    else{
        draw_sprite(d_municion,0,x,y);}
    if(tre_d=1){
        if(reloj2=-1){
            draw_sprite(d_armas,arma*9,x,y);}
        else{
            draw_sprite(d_armas,(arma*9)+calculabrazo(reloj2,lanzamiento),x,y);}}
    else{
        if(reloj2=-1){
            draw_sprite(d_armas,arma,x+9,y-97);}
        else if(arma&gt;0 and tiro=1){
            draw_sprite_ext(d_armas,7,x+9,y-97,1,1,(reloj2*720)/lanzamiento,c_white,1);}
        else{
            draw_sprite_ext(d_armas,arma,x+9,y-97,1,1,(reloj2*720)/lanzamiento,c_white,1);}}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
